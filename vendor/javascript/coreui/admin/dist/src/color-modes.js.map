{"version":3,"file":"color-modes.js","names":["THEME","getStoredTheme","localStorage","getItem","setStoredTheme","theme","setItem","getPreferredTheme","storedTheme","window","matchMedia","matches","setTheme","document","documentElement","setAttribute","event","Event","dispatchEvent","showActiveTheme","btnToActive","querySelector","activeThemeIcon","svgSel","element","querySelectorAll","classList","remove","svgOfActiveBtn","getAttribute","add","addEventListener","toggle","ColorModes"],"sources":["../../src/js/color-modes.js"],"sourcesContent":["/*!\n* Color mode toggler for CoreUI's docs (https://coreui.io/)\n* Copyright (c) 2024 creativeLabs Łukasz Holeczek\n* Licensed under the Creative Commons Attribution 3.0 Unported License.\n*/\n\n(() => {\n  const THEME = 'coreui-free-bootstrap-admin-template-theme'\n\n  const getStoredTheme = () => localStorage.getItem(THEME)\n  const setStoredTheme = theme => localStorage.setItem(THEME, theme)\n\n  const getPreferredTheme = () => {\n    const storedTheme = getStoredTheme()\n\n    if (storedTheme) {\n      return storedTheme\n    }\n\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n  }\n\n  const setTheme = theme => {\n    if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      document.documentElement.setAttribute('data-coreui-theme', 'dark')\n    } else {\n      document.documentElement.setAttribute('data-coreui-theme', theme)\n    }\n\n    const event = new Event('ColorSchemeChange')\n    document.documentElement.dispatchEvent(event)\n  }\n\n  setTheme(getPreferredTheme())\n\n  const showActiveTheme = theme => {\n\n    const btnToActive = document.querySelector(`[data-coreui-theme-value=\"${theme}\"]`)\n    if (btnToActive) {\n      const activeThemeIcon = document.querySelector('.theme-icon-active use')\n      const svgSel = btnToActive.querySelector('svg use');\n\n      for (const element of document.querySelectorAll('[data-coreui-theme-value]')) {\n        element.classList.remove('active')\n      }\n      if (svgSel && activeThemeIcon) {\n        const svgOfActiveBtn = svgSel.getAttribute('xlink:href')\n        activeThemeIcon.setAttribute('xlink:href', svgOfActiveBtn)\n      }\n\n      btnToActive.classList.add('active')\n    }\n  }\n\n  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n    const storedTheme = getStoredTheme()\n    if (storedTheme !== 'light' || storedTheme !== 'dark') {\n      setTheme(getPreferredTheme())\n    }\n  })\n\n  window.addEventListener('turbo:load', () => {\n    showActiveTheme(getPreferredTheme())\n\n    for (const toggle of document.querySelectorAll('[data-coreui-theme-value]')) {\n      toggle.addEventListener('click', () => {\n        const theme = toggle.getAttribute('data-coreui-theme-value')\n        setStoredTheme(theme)\n        setTheme(theme)\n        showActiveTheme(theme)\n      })\n    }\n  })\n})()\n\nexport default class ColorModes { }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,CAAC,MAAM;EACL,MAAMA,KAAK,GAAG,4CAA4C;EAE1D,MAAMC,cAAc,GAAGA,CAAA,KAAMC,YAAY,CAACC,OAAO,CAACH,KAAK,CAAC;EACxD,MAAMI,cAAc,GAAGC,KAAK,IAAIH,YAAY,CAACI,OAAO,CAACN,KAAK,EAAEK,KAAK,CAAC;EAElE,MAAME,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,WAAW,GAAGP,cAAc,CAAC,CAAC;IAEpC,IAAIO,WAAW,EAAE;MACf,OAAOA,WAAW;IACpB;IAEA,OAAOC,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,GAAG,MAAM,GAAG,OAAO;EACrF,CAAC;EAED,MAAMC,QAAQ,GAAGP,KAAK,IAAI;IACxB,IAAIA,KAAK,KAAK,MAAM,IAAII,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,EAAE;MACjFE,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,mBAAmB,EAAE,MAAM,CAAC;IACpE,CAAC,MAAM;MACLF,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,mBAAmB,EAAEV,KAAK,CAAC;IACnE;IAEA,MAAMW,KAAK,GAAG,IAAIC,KAAK,CAAC,mBAAmB,CAAC;IAC5CJ,QAAQ,CAACC,eAAe,CAACI,aAAa,CAACF,KAAK,CAAC;EAC/C,CAAC;EAEDJ,QAAQ,CAACL,iBAAiB,CAAC,CAAC,CAAC;EAE7B,MAAMY,eAAe,GAAGd,KAAK,IAAI;IAE/B,MAAMe,WAAW,GAAGP,QAAQ,CAACQ,aAAa,CAAE,6BAA4BhB,KAAM,IAAG,CAAC;IAClF,IAAIe,WAAW,EAAE;MACf,MAAME,eAAe,GAAGT,QAAQ,CAACQ,aAAa,CAAC,wBAAwB,CAAC;MACxE,MAAME,MAAM,GAAGH,WAAW,CAACC,aAAa,CAAC,SAAS,CAAC;MAEnD,KAAK,MAAMG,OAAO,IAAIX,QAAQ,CAACY,gBAAgB,CAAC,2BAA2B,CAAC,EAAE;QAC5ED,OAAO,CAACE,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;MACpC;MACA,IAAIJ,MAAM,IAAID,eAAe,EAAE;QAC7B,MAAMM,cAAc,GAAGL,MAAM,CAACM,YAAY,CAAC,YAAY,CAAC;QACxDP,eAAe,CAACP,YAAY,CAAC,YAAY,EAAEa,cAAc,CAAC;MAC5D;MAEAR,WAAW,CAACM,SAAS,CAACI,GAAG,CAAC,QAAQ,CAAC;IACrC;EACF,CAAC;EAEDrB,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACqB,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACjF,MAAMvB,WAAW,GAAGP,cAAc,CAAC,CAAC;IACpC,IAAIO,WAAW,KAAK,OAAO,IAAIA,WAAW,KAAK,MAAM,EAAE;MACrDI,QAAQ,CAACL,iBAAiB,CAAC,CAAC,CAAC;IAC/B;EACF,CAAC,CAAC;EAEFE,MAAM,CAACsB,gBAAgB,CAAC,YAAY,EAAE,MAAM;IAC1CZ,eAAe,CAACZ,iBAAiB,CAAC,CAAC,CAAC;IAEpC,KAAK,MAAMyB,MAAM,IAAInB,QAAQ,CAACY,gBAAgB,CAAC,2BAA2B,CAAC,EAAE;MAC3EO,MAAM,CAACD,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACrC,MAAM1B,KAAK,GAAG2B,MAAM,CAACH,YAAY,CAAC,yBAAyB,CAAC;QAC5DzB,cAAc,CAACC,KAAK,CAAC;QACrBO,QAAQ,CAACP,KAAK,CAAC;QACfc,eAAe,CAACd,KAAK,CAAC;MACxB,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACJ,CAAC,EAAE,CAAC;AAEJ,eAAe,MAAM4B,UAAU,CAAC","ignoreList":[]}